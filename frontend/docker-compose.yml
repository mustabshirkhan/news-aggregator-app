version: '3'
services:
#    backend:
#        build:
#            context: ./backend
#        container_name: backend-app
#        volumes:
#            - ./backend:/var/www/html
#            - ./backend/database/migrations:/var/www/html/database/migrations
#        #    command: sh -c "php artisan serve --host=0.0.0.0 --port=9000 && php artisan migrate --force"
#        entrypoint: sh -c "sleep 30 && php artisan migrate &&  php artisan passport:install && php artisan serve --host=0.0.0.0 --port=9000"
#
#        ports:
#            - 9000:9000
#        depends_on:
#            - db

    frontend:
        build:
            context: .
            dockerfile: Dockerfile
            network: host
        container_name: frontend-app
        volumes:
            - ./:/app
        ports:
            - 3000:3000

#    db:
#        image: mysql:8.0
#        container_name: mysql-db
#        restart: always
#        environment:
#            MYSQL_ROOT_PASSWORD: root
#            MYSQL_DATABASE: laravel
#            MYSQL_USER: laravel_user
#            MYSQL_PASSWORD: laravel_pass
#        ports:
#            - 3306:3306
